@import "tailwindcss";

/* Default (light) - used when no data-theme or as fallback */
:root {
  --background: #f8fafc;
  --foreground: #0f172a;
  --heading: #020617;
  --muted: #475569;
  --card: #ffffff;
  --card-border: #e2e8f0;
  --accent: #4f46e5;
  --accent-hover: #4338ca;
  --focus-ring: #6366f1;
  --header-bg: rgba(255, 255, 255, 0.95);
  --header-text: #0f172a;
  --section-bg: #f1f5f9;
  --page-pattern-color: rgba(15, 23, 42, 0.03);
  /* Glass panel (timeline / CTA): light = frosted glass, dark = black */
  --glass-panel-bg: rgba(255, 255, 255, 0.2);
  --glass-panel-border: rgba(255, 255, 255, 0.45);
  --glass-panel-shadow: 0 8px 32px rgba(0, 0, 0, 0.08);
  --cta-orb-left: rgba(59, 130, 246, 0.12);
  --cta-orb-right: rgba(168, 85, 247, 0.12);
  /* Timeline controls: light = glassy buttons */
  --timeline-btn-bg: rgba(255, 255, 255, 0.6);
  --timeline-btn-border: rgba(226, 232, 240, 0.9);
  --timeline-btn-text: #0f172a;
  --timeline-btn-hover-bg: rgba(241, 245, 249, 0.9);
  --timeline-pill-bg: rgba(226, 232, 240, 0.8);
  --timeline-pill-text: #475569;
  --timeline-progress-bg: rgba(226, 232, 240, 0.6);
}

/* Dark theme - user choice or system preference when no choice */
[data-theme="dark"] {
  --background: #0a0a0a;
  --foreground: #fafafa;
  --heading: #fafafa;
  --muted: #a1a1aa;
  --card: #18181b;
  --card-border: #27272a;
  --accent: #818cf8;
  --accent-hover: #a5b4fc;
  --focus-ring: #818cf8;
  --header-bg: rgba(9, 9, 11, 0.95);
  --header-text: #fafafa;
  --section-bg: #09090b;
  --page-pattern-color: rgba(255, 255, 255, 0.04);
  --glass-panel-bg: #09090b;
  --glass-panel-border: #27272a;
  --glass-panel-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5);
  --cta-orb-left: transparent;
  --cta-orb-right: transparent;
  --timeline-btn-bg: rgba(24, 24, 27, 0.9);
  --timeline-btn-border: #3f3f46;
  --timeline-btn-text: #fafafa;
  --timeline-btn-hover-bg: rgba(63, 63, 70, 0.95);
  --timeline-pill-bg: #27272a;
  --timeline-pill-text: #a1a1aa;
  --timeline-progress-bg: #27272a;
}

/* System preference fallback when data-theme not yet set (avoids flash) */
@media (prefers-color-scheme: dark) {
  :root:not([data-theme]) {
    --background: #0a0a0a;
    --foreground: #fafafa;
    --heading: #fafafa;
    --muted: #a1a1aa;
    --card: #18181b;
    --card-border: #27272a;
    --accent: #818cf8;
    --accent-hover: #a5b4fc;
    --focus-ring: #818cf8;
    --header-bg: rgba(9, 9, 11, 0.95);
    --header-text: #fafafa;
    --section-bg: #09090b;
    --page-pattern-color: rgba(255, 255, 255, 0.04);
    --glass-panel-bg: #09090b;
    --glass-panel-border: #27272a;
    --glass-panel-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5);
    --cta-orb-left: transparent;
    --cta-orb-right: transparent;
    --timeline-btn-bg: rgba(24, 24, 27, 0.9);
    --timeline-btn-border: #3f3f46;
    --timeline-btn-text: #fafafa;
    --timeline-btn-hover-bg: rgba(63, 63, 70, 0.95);
    --timeline-pill-bg: #27272a;
    --timeline-pill-text: #a1a1aa;
    --timeline-progress-bg: #27272a;
  }
}

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);
}

body {
  background: var(--background);
  color: var(--foreground);
  font-family: Arial, Helvetica, sans-serif;
}

/* Theme-aware utilities */
.text-theme-heading { color: var(--heading); }
.text-theme-muted { color: var(--muted); }
.bg-theme-card { background-color: var(--card); }
.bg-theme-section { background-color: var(--section-bg); }
.border-theme { border-color: var(--card-border); }
/* Glass panel: light = frosted glass, dark = solid black */
.glass-panel {
  background: var(--glass-panel-bg);
  border-color: var(--glass-panel-border);
  box-shadow: var(--glass-panel-shadow);
}
.glass-panel-glass { backdrop-filter: blur(20px); -webkit-backdrop-filter: blur(20px); }
/* Timeline section: nav buttons and year pills â€“ theme-aware */
.timeline-nav-btn {
  background: var(--timeline-btn-bg);
  border-color: var(--timeline-btn-border);
  color: var(--timeline-btn-text);
  backdrop-filter: blur(8px);
  -webkit-backdrop-filter: blur(8px);
}
.timeline-nav-btn:hover:not(:disabled) {
  background: var(--timeline-btn-hover-bg);
  border-color: var(--accent);
  color: var(--accent);
}
.timeline-pill {
  background: var(--timeline-pill-bg);
  color: var(--timeline-pill-text);
}
.timeline-pill:hover { opacity: 0.9; }
.timeline-progress-track { background: var(--timeline-progress-bg); }
/* Timeline section: subtle gradient so glass panel blur is visible (light only) */
.timeline-section-bg {
  background: linear-gradient(to bottom right, rgba(239, 246, 255, 0.5), transparent 40%, transparent 60%, rgba(250, 245, 255, 0.4));
}
[data-theme="dark"] .timeline-section-bg { background: transparent; }
@media (prefers-color-scheme: dark) {
  :root:not([data-theme]) .timeline-section-bg { background: transparent; }
}
.theme-toggle-btn:hover { background: var(--page-pattern-color); }
.placeholder-theme::placeholder { color: var(--muted); opacity: 1; }
.placeholder\:text-theme-muted::placeholder { color: var(--muted); opacity: 1; }

/* Hero section fade-up animation */
@keyframes fade-up {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.animate-fade-up {
  animation: fade-up 0.6s ease-out forwards;
}

/* Timeline slide enter */
@keyframes timeline-slide-in {
  from {
    opacity: 0;
    transform: translateX(12px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

.animate-timeline-in {
  animation: timeline-slide-in 0.4s ease-out forwards;
}

/* Subtle page background pattern - theme-aware */
.page-pattern {
  background-image: radial-gradient(
      circle at 1px 1px,
      var(--page-pattern-color) 1px,
      transparent 0
    );
  background-size: 32px 32px;
  background-position: 0 0;
}

/* Scroll-in-view: fade up when element enters viewport */
.scroll-in-view {
  opacity: 0;
  transform: translateY(28px);
  transition:
    opacity 0.6s ease-out,
    transform 0.6s ease-out;
}

.scroll-in-view.visible {
  opacity: 1;
  transform: translateY(0);
}
